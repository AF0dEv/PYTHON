<link href="{{url_for('static', filename = 'css/bootstrap.min.css')}}" rel="stylesheet">
<link href="{{url_for('static', filename = 'css/toggle.css')}}" rel="stylesheet">

{% include 'base.html' %} <!-- herda de base.html -->
    {% block content %}
    <h2>TAREFAS</h2>
    <table class="table table-striped">
        <thead>

            <tr>
                <th>ID</th>
                <th>Descrição</th>
                <th>Concluido</th>
            </tr>
        </thead>
        <tbody>
            {%for tarefa in listaTarefas%}
                <tr>
                    <td>{{ tarefa[0] }}</td>
                    <td>{{ tarefa[1] }}</td>
                    <td style="width: 100px;">
                     
                              {% if tarefa[2] == 1 %}
                              <!-- Rounded switch -->
                              <label class="switch">
                                 <input type="checkbox" checked id="myCheckbox"  onchange="location.href = '/updateTarefa/{{tarefa[0]}}/{{tarefa[1]}}/0'">
                                 <span class="slider round"></span>
                               </label>

                              {% endif %}
                              {% if tarefa[2] == 0 %}
                                
                              <label class="switch">
                                 <input type="checkbox" id="myCheckbox"  onchange="location.href = '/updateTarefa/{{tarefa[0]}}/{{tarefa[1]}}/1'">
                                 <span class="slider round"></span>
                               </label>
                             
                              {% endif %}
                        </div>
                               
                    </td>



                    <td>
                        <a href="/updateTarefa/{{tarefa.0}}" class="btn btn-warning btn-xs" data-toggle="modal" data-target="#modaleditTarefa{{tarefa.0}} ">Editar</a>
                        <a href="/deleteTask/{{tarefa.0}}" class="btn btn-danger btn-xs" onclick="return confirm('Tem a certeza que quer apagar? {{tarefa.0}}')">Apagar</a>
                    </td>
                </tr>

                <div id="modaleditTarefa{{tarefa.0}}" class="modal fade" role="dialog">


                    <div class="modal-dialog">
                 
                 
                       <div class="modal-content">
                 
                 
                          <div class="modal-header">
                 
                 
                             <button type="button" class="close" data-dismiss="modal">&times;</button>
                 
                 
                             <h4 class="modal-title">Actualizar Informação</h4>
                 
                 
                          </div>
                 
                 
                          <div class="modal-body">
                 
                 
                           <form action="updateDesc" method="POST">
                 
                 
                                <div class="form-group">
                 
                                   <input type="hidden"  name="id_tarefa" value="{{tarefa[0]}}">  
                 
                                   <label>Descrição:</label>
                 
                                   <input type="text" class="form-control" name="descricao" value="{{tarefa[1]}}">
                 
                 
                                </div>
                 
                 
                 
                                
                 
                                <div class="form-group">
                 
                 
                                   <button class="btn btn-primary" type="submit">Actualizar</button>
                 
                 
                                </div>
                 
                 
                             </form>
                 
                 
                          </div>
                 
                 
                          <div class="modal-footer">
                 
                 
                             <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
                 
                 
                          </div>
                 
                 
                       </div>
                 
                 
                    </div>
                 
                 
                 </div>
            {% endfor %}
        </tbody>
    </table>
   {% endblock %}

<script type="text/javascript" src="{{url_for('static', filename='js/jquery-3.2.1.min.js') }}"></script>

<script type="text/javascript" src="{{url_for('static', filename = 'js/bootstrap.min.js')}}"></script>